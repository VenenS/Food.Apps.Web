(function ($) {$(document).ready(function () {$('.timepicker').timepicker({timeOnlyTitle: 'Выберите время',timeText: 'Время',hourText: 'Часы',minuteText: 'Минуты',secondText: 'Секунды',currentText: 'Сейчас',closeText: 'Закрыть'});$('.timepicker').each(function (index, el) {updateTimepicker(el);});$('.timepicker').on('change', updateCurrentTimepicker);});}(window.jQuery));function updateTimepicker(element) {var min = '00:00';var max = '23:59';var el;if ($(element).hasClass('open-order')) {max = '23:59';var minArr = $(element).val().split(':');var date = new Date();date.setHours(Number.parseInt(minArr[0]), Number.parseInt(minArr[1]) + 1, 0, 0);min = date.getHours() + ":" + date.getMinutes();el = $(element).parents('tr').find('div').find('.close-order');}if ($(element).hasClass('close-order')) {var maxArr = $(element).val().split(':');var date = new Date();date.setHours(Number.parseInt(maxArr[0]), Number.parseInt(maxArr[1]) - 1, 0, 0);max = date.getHours() + ":" + date.getMinutes();min = '00:00';el = $(element).parents('tr').find('div').find('.open-order');$(el).data('datepicker').settings.minTime = min;$(el).data('datepicker').settings.maxTime = max;}function updateCurrentTimepicker() {updateTimepicker(this);}